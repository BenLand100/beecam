<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <title>BeeCam | ben.land</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Livestreams of my beehives in the Philly suburbs.">
    <link rel="stylesheet" href="/css/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;0,700;0,800;1,400;1,600;1,700;1,800&display=swap" rel="stylesheet"> 
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9LH6TXZN0X"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9LH6TXZN0X');
    </script>
  </head>
  
  <body style="">
    <h1 style="text-align: center;">
    BeeCam Livestreams
    </h1>
    <h3 style="text-align: center;">
    <a id="hive1_link" onclick="show_feeds(true,false)">Hive One</a> | <a id="hive2_link" onclick="show_feeds(false,true)">Hive Two</a> | <a id="both_link" onclick="show_feeds(true,true)">Both Hives</a>
    </h3>
    <div id="hive1">
    <video id="hive1_stream" width="100%" controls style=""></video>
    </div>
    <script>
    var video = document.getElementById('hive1_stream');
    var src = 'https://ben.land/beecam/stream/hive1.m3u8';
    if (Hls.isSupported()) {
        var hls = new Hls({
            debug: true
        });
        hls.loadSource(src);
        hls.attachMedia(video);
        hls.on(Hls.Events.MEDIA_ATTACHED, () => {
        });
    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = src;
    }
    </script> 
    <div id="hive2">
    <video id="hive2_stream" width="100%" controls style=""></video>
    </div>
    <script>
    var video = document.getElementById('hive2_stream');
    var src = 'https://ben.land/beecam/stream/hive2.m3u8';
    if (Hls.isSupported()) {
        var hls = new Hls({
            debug: true
        });
        hls.loadSource(src);
        hls.attachMedia(video);
        hls.on(Hls.Events.MEDIA_ATTACHED, () => {
        });
    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = src;
    }
    </script> 
    <script>
    var hive1_iframe = null;
    function load_hive1_metrics() {
        if (hive1_iframe == null) {
            hive1_iframe = document.createElement("iframe");
            hive1_iframe.setAttribute('src','stream/hive1_metrics.html')
            hive1_iframe.setAttribute('style','height: auto; width: 100%; aspect-ratio:2; border: none;')
            document.getElementById('hive1_metrics').appendChild(hive1_iframe);
            document.getElementById('load_hive1_metrics').text = "(refresh metrics)";
        } else {
            hive1_iframe.setAttribute('src','stream/hive1_metrics.html')
        }
    }
    var hive2_iframe = null;
    function load_hive2_metrics() {
        return; //TBD
        if (hive2_iframe == null) {
            hive2_iframe = document.createElement("iframe");
            hive2_iframe.setAttribute('src','stream/hive2_metrics.html')
            hive2_iframe.setAttribute('style','height: auto; width: 100%; aspect-ratio:2.25; border: none;')
            document.getElementById('hive2_metrics').appendChild(hive2_iframe);
            document.getElementById('load_hive2_metrics').text = "(refresh metrics)";
        } else {
            hive2_iframe.setAttribute('src','stream/hive2_metrics.html')
        }
    }
    function show_hive1_extras() {
    	document.getElementById('hive1_extras').style.display = "inline-block"
    }
    </script> 
    <p style="text-align: center;">
    These are livestreams of two wild-caught honeybee colonies that I keep in the Philly suburbs. Details on the livestreaming setup are <a href="https://ben.land/post/2023/06/20/hacking-together-beecam/">on my blog</a>. The text below contains some notes from the year, along with links to pictures, videos, and information.
    </p>
    <p style="text-align: center;">
    I've also started to log climate data in and around the beehives and to measure bee activity with a <a href="https://ben.land/post/2023/12/15/bee-counting-neural-network/">convolutional neural network</a>. Check out the "metrics" links below for timeseries. This is a work in progress, so stay tuned!
    </p>
    <div id="hive1_details">
    </hr>
    <h2 style="display: inline-block">Hive One</h2> <a id="load_hive1_metrics" onclick="load_hive1_metrics()" style="font-size:small;">(metrics - live)</a>
    <div id="hive1_metrics"></div>
    <figure class="rightsmall"><img src="hive1.jpg"  alt="Hive One during August 2024."/></figure>
    <p style="">
    Scout bees were <a href="https://immich.ben.land/share/KcVeImq0CCUSl56xaOdp8OXOIbfTgBSJGRdPkSlGEZT2ZlpQmknVs3q8QaMVZNFYpa8">checking out the swarm lure</a> towards the end of April. Eventually <a href="https://immich.ben.land/share/QTbGFIk-EAT8NPsbUX_NTqcnAG8qvq4p6AFBIHm6uOR9BuJwjgMPNzOpzacQUMbO1kw">a swarm arrived</a>  and was re-homed May 2nd into an 8-frame deep hive box - Hive One - with some pre-drawn comb from last year's colony.
    </p>
    <p style="">
    Hive One is doing well, and weekly inspections indicate steady brood rearing and a healthy queen throughout the active season. The original deep box was full as of June 16, and an empty medium box was added so the bees can stockpile for the winter. A third box was added towards the end of July. A fourth box went on early in September to wrap up the season, but heavy drought conditions in the area resulted in very little honey produced, so this box was removed early October. Oxalic acid treatments for <a href="https://en.wikipedia.org/wiki/Varroa_destructor">Varroa mites</a> starting after they were housed in May and repeated roughly every two months, most recently October 28, indicate mites are in check as we head into Winter. This combined with plenty of honey stores (more on that below) give Hive One good odds to survive the winter.
    </p>
    <h3 style="display: inline-block"><a onclick="show_hive1_extras()">Extra info...</a></h3>
    <div id="hive1_extras" style="display: none">
    <p style="">
    On October 2, the hive was fully disassembled to inspect for pests and disease at the end of the season. During this inspection, the old hive base base was swapped for one with a sensor platform I designed, with temperature/humidity sensors deployed in the hive as it was reassembled. This base has an integrated scale to track the weight of the entire hive and can record data from the temperature/humidity/brightness/pressure sensors deployed during the inspection. All of this is fed back over the ethernet network running the cameras, and processed into the data avaliable on the <a onclick="load_hive1_metrics()">live metrics link</a>. This also has a measure of (roughly) how many bees are detected on the live feed at any given time.
    </p>
    <p style="">
    Weight is perhaps the most important, and will monitor the honey consumption of the bees through the winter. The base plus the brood box as-is weigh about 40 lbs. At least 30lbs of that is "equipment" (including the top and cover here) with the other 10 lbs being mostly honey and bees.
    The remaining weight - about 90 lbs - is all in the two medium boxes (the hive is configured as pictured above).
    With empty medium boxes and frames weighing about 12lbs each, this leaves at least 70lbs of honey so far this season all told.
    The bees will continue to forage until nightly frosts kill the flowers and/or the daytime temperatures are below 55F, so the season is mostly over as of the end of November except for an occasional warm day.
    </p>
    </p>Along with hive weight, it will be interesting to follow Temp-Brood and Temp-Top which track the temperature in the bottom (brood box) and top of the hive. The bees actively control the environment inside the hive, and will strive to maintain around 95F (35C) if brood are present. With no brood in the winter, the temperature will drop substantially depending on how the bees are positioned in the hive, but the bees will keep a local area warm with energy provided by stored honey. Some heat will rise to the top, along with a considerable amount of humidity from tens of thousands of respirating bees, which will provided a critical water source as it condenses on the cool hive outer walls.
    </p>
    <p style="">
    Combined, this temperature, weight, and humidity data will allow me to keep track of the colony's health through the winter, when opening the hive is not possible without stressing the colony.
    </p>
    </div>
    </div>
    <div id="hive2_details">
    </hr>
    <h2 style="display: inline-block">Hive Two</h2> <a id="load_hive2_metrics" onclick="load_hive2_metrics()" style="font-size:small;">(no metrics - yet)</a>
    <div id="hive2_metrics"></div>
    <figure class="rightsmall"><img src="hive2.jpg"  alt="Hive Two during August 2024."/></figure>
    <p style="">
    A second swarm <a href="https://immich.ben.land/share/TkUxF-b8evIrXhGyIFtihEQJZL2TGitHYDbTd8BHFdGqe2dquxsGYsEnEelGffXTC4U">finally moved into the bait hive</a> on the morning of June 23, and was moved to a new hive - Hive Two - next to the first hive. Hive inspection on June 29. After solid growth through the first half of July, filling 7 of 8 frames in the deep box with comb, honey, and brood, the population of the colony began to decrease. A very sparse brood pattern presented by mid August. The queen was still present as of September but had stopped laying new eggs.
    </p>
    <p style="">
    Regular Varroa treatment was done, along with Hive One, and no particular infestation was observed through the season, however the low population of bees eventually led to an infestation of <a href="https://en.wikipedia.org/wiki/Small_hive_beetle">small hive beetles</a> that had to be cleared September 5th, losing 4 frames of drawn comb to the beetle larva. Unfortunately the queen decided to abscond (leave) the morning of September 11th, and bees were observed leaving the hive all at once, presumably try to escape the issues they enountered this season.
    </p>
    <p style="">
    Without bees, Hive Two sits empty this winter and will be put to use in the spring. Either a split from Hive One or another attempt at catching a wild swarm earlier in the season will find a home there.
    </p>
    </div>
    </hr>
    <h2 style="">Astrophotography</h2>
    <figure class="center"><img src="astro_banner_small.jpg"  alt="A selection of astrophotography images arranged in a banner."/></figure>
    <p style="">
    If you've seen my telescope out at night, I keep <a href="https://ben.land/astro">a photo album of completed images</a> updated for public viewing, and have recently written <a href="https://ben.land/post/2024/09/28/deep-sky-images-vol-one/">a blog post on the best images so far</a>, which are also pictured in the banner above. Enjoy!
    </p>
  </body>
    <script>
      var h1 = document.getElementById("hive1");
      var h2 = document.getElementById("hive2");
      var h1l = document.getElementById("hive1_link");
      var h2l = document.getElementById("hive2_link");
      var bl = document.getElementById("both_link");
      var h1d = document.getElementById("hive1_details");
      var h2d = document.getElementById("hive2_details");
      h1.style.display = "flex";
      h1d.style.display = "inline-block";
      h2.style.display = "none";
      h2d.style.display = "none";
      h1l.style.fontWeight = "bold";
      h2l.style.fontWeight = "normal";
      bl.style.fontWeight = "normal";
      function show_feeds(h1_vis, h2_vis) {
        if (h1_vis & h2_vis) {
          h1l.style.fontWeight = "normal";
          h2l.style.fontWeight = "normal";
          bl.style.fontWeight = "bold";
          h1d.style.display = "none";
          h2d.style.display = "none";
        } else if (h1_vis) {
          h1l.style.fontWeight = "bold";
          h2l.style.fontWeight = "normal";
          bl.style.fontWeight = "normal";
          h1d.style.display = "inline-block";
          h2d.style.display = "none";
        } else if (h2_vis) {
          h1l.style.fontWeight = "normal";
          h2l.style.fontWeight = "bold";
          bl.style.fontWeight = "normal";
          h1d.style.display = "none";
          h2d.style.display = "inline-block";
        }  
        if (h1_vis) {
          h1.style.display = "flex";
          h1.style.justify_content = "space-around";
          h1.style.align_items = "center";
        } else {
          h1.style.display = "none";
        }
        if (h2_vis) {
          h2.style.display = "flex";
          h2.style.justify_content = "space-around";
          h2.style.align_items = "center";
        } else {
          h2.style.display = "none";
        }
      } 
    </script>
</html>


